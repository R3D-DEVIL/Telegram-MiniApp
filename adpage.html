<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Debug AdPage</title>
  </head>
  <body>
    <h2>Debug Interstitial Ad</h2>
    <div id="status">Initializing...</div>
    <button onclick="claimReward()">Test Ad</button>
    <pre id="log" style="margin-top:20px;white-space:pre-wrap;"></pre>
    <script src="https://libtl.com/sdk.js" data-zone="9454642" data-sdk="show_9454642"></script>
    <script>
      function log(msg) {
        console.log(msg);
        document.getElementById('log').innerText += msg + '\n';
      }

      function claimReward() {
        document.getElementById('status').innerText = "⏳ Preloading...";
        show_9454642({ type: 'preload' })
          .then(() => {
            log("✅ Preload success, showing ad...");
            document.getElementById('status').innerText = "⏳ Showing ad...";
            return show_9454642();
          })
          .then(() => {
            log("✅ Ad shown");
            document.getElementById('status').innerText = "✅ Reward granted!";
          })
          .catch((err) => {
            log("❌ Error: " + err);
            document.getElementById('status').innerText = "⚠️ Ad not available";
          });
      }

      window.onload = function() {
        if (typeof show_9454642 !== 'function') {
          log("⚠️ show_9454642 is not defined.");
          document.getElementById('status').innerText = "⚠️ SDK not loaded.";
        } else {
          log("SDK loaded: show_9454642 is available.");
          document.getElementById('status').innerText = "Ready to load ad.";
        }
      };
    </script>
  </body>
</html>
