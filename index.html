<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mini App - Reward Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="//libtl.com/sdk.js" data-zone="9454642" data-sdk="show_9454642"></script>
  <style>
    /* Your existing styles */
  </style>
</head>
<body>
  <h2>ğŸ Choose a Feature</h2>
  <button onclick="loadContent('calculator')">ğŸ§® Calculator</button>
  <button onclick="loadContent('tictactoe')">âŒâ­• Tic Tac Toe</button>
  <button onclick="loadContent('todo')">ğŸ“ To Do List</button>

  <div id="content"></div>

  <script>
    Telegram.WebApp.expand();

    function loadContent(page) {
      fetch(`${page}.html`)
        .then(res => res.text())
        .then(html => {
          const container = document.getElementById("content");
          container.innerHTML = html;

          const scripts = container.querySelectorAll("script");
          scripts.forEach(oldScript => {
            const newScript = document.createElement("script");
            if (oldScript.src) {
              newScript.src = oldScript.src;
            } else {
              newScript.textContent = oldScript.textContent;
            }
            oldScript.remove();

            // Expose global ad function to injected pages
            if (!window.show_9454642 && parent.show_9454642) {
              window.show_9454642 = parent.show_9454642;
            }

            container.appendChild(newScript);
          });
        });
    }
  </script>
</body>
</html>
